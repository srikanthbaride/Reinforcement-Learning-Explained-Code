name: Python (Chapters)

on:
  push:
    branches: [ "main" ]
    paths:
      - "ch2_rl_formulation/**"
      - "ch4_dynamic_programming/**"
      - "ch5_monte_carlo/**"
      - ".github/workflows/python-tests.yml"
      - ".github/workflows/_chapter-tests.yml"
      - "requirements.txt"
  pull_request:
    branches: [ "main" ]
    paths:
      - "ch2_rl_formulation/**"
      - "ch4_dynamic_programming/**"
      - "ch5_monte_carlo/**"
      - ".github/workflows/python-tests.yml"
      - ".github/workflows/_chapter-tests.yml"
      - "requirements.txt"

jobs:
  ch2:
    uses: ./.github/workflows/_chapter-tests.yml
    with:
      chapter: ch2_rl_formulation

  ch4:
    uses: ./.github/workflows/_chapter-tests.yml
    with:
      chapter: ch4_dynamic_programming

  ch5:
    uses: ./.github/workflows/_chapter-tests.yml
    with:
      chapter: ch5_monte_carlo
